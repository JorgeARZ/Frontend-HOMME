import { useState, useEffect, useRef } from "react";
import MapboxGeocoder from '@mapbox/mapbox-gl-geocoder';
import '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css';
import mapboxgl from 'mapbox-gl';
import 'mapbox-gl/dist/mapbox-gl.css';

function Mapbox() {
    //Assign the Mapbox token from the environment variable set in .env
    mapboxgl.accessToken = "pk.eyJ1Ijoiam9yZ2VhcnoiLCJhIjoiY2xoeHJuY2hwMHJteTNnbjBqcWN5bzU1ZCJ9.gsehy9Q8trkM71y3tU0RWg";


    const mapContainer = useRef(null);
    const map = useRef(null);
    const [lng, setLng] = useState(-71.5956);
    const [lat, setLat] = useState(-33.0247);
    const [zoom, setZoom] = useState(12);

    const geojson ={
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "geometry": {
              "type": "LineString",
              "coordinates": [
                [
                  -100.231345,
                  -32.466388
                ],
                [
                  -100.23185985453989,
                  -32.435346549323484
                ],
                [
                  -100.23798075393441,
                  -32.40495179551904
                ],
                [
                  -100.24952988342682,
                  -32.376584770012826
                ],
                [
                  -100.2566842847087,
                  -32.3458373973978
                ],
                [
                  -100.27700345400794,
                  -32.317685586706006
                ],
                [
                  -100.29835317584515,
                  -32.28846789834216
                ],
                [
                  -100.30860571513327,
                  -32.25310645784959
                ],
                [
                  -100.32426967467013,
                  -32.218153168252734
                ],
                [
                  -100.3439066937418,
                  -32.1854263879306
                ],
                [
                  -100.3629484743379,
                  -32.15048648336214
                ],
                [
                  -100.37994034944035,
                  -32.11487014028373
                ],
                [
                  -100.40275155086431,
                  -32.082152364075256
                ],
                [
                  -100.42190180146851,
                  -32.0482521452639
                ],
                [
                  -100.42842296730205,
                  -32.01059427607446
                ],
                [
                  -100.43924692405348,
                  -31.972747183302832
                ],
                [
                  -100.45181016208802,
                  -31.939115515065904
                ],
                [
                  -100.45890590217006,
                  -31.904217399029708
                ],
                [
                  -100.46842997355319,
                  -31.869242249253467
                ],
                [
                  -100.46919489865616,
                  -31.832845951833157
                ],
                [
                  -100.47975941757002,
                  -31.797680769662914
                ],
                [
                  -100.4913105634196,
                  -31.762675663335582
                ],
                [
                  -100.50669364799343,
                  -31.73141187664486
                ],
                [
                  -100.52562356493807,
                  -31.700776611875256
                ],
                [
                  -100.54151485812929,
                  -31.668545102358205
                ],
                [
                  -100.56163842441264,
                  -31.642078620247982
                ],
                [
                  -100.57976536233308,
                  -31.615503677933
                ],
                [
                  -100.59138154372883,
                  -31.587413858017797
                ],
                [
                  -100.60730947416819,
                  -31.559288039567072
                ],
                [
                  -100.62300430463624,
                  -31.530037991182855
                ],
                [
                  -100.64313319674632,
                  -31.50029697463505
                ],
                [
                  -100.6665426462084,
                  -31.469426192661306
                ],
                [
                  -100.68492853999764,
                  -31.437298123612848
                ],
                [
                  -100.70194917702383,
                  -31.40440481475568
                ],
                [
                  -100.72270931363774,
                  -31.372668722978624
                ],
                [
                  -100.7452249321836,
                  -31.34282612198838
                ],
                [
                  -100.76180482646468,
                  -31.310683869095804
                ],
                [
                  -100.77046095371092,
                  -31.277862754061207
                ],
                [
                  -100.79686411162571,
                  -31.25067367462772
                ],
                [
                  -100.82600341553808,
                  -31.222255847546712
                ],
                [
                  -100.85677338952,
                  -31.195686230938257
                ],
                [
                  -100.88791346306813,
                  -31.166562518182005
                ],
                [
                  -100.92689570794897,
                  -31.14420520240624
                ],
                [
                  -100.96146031750041,
                  -31.119710303870242
                ],
                [
                  -101.00235152340056,
                  -31.09913800331081
                ],
                [
                  -101.04317316381834,
                  -31.0796646058382
                ],
                [
                  -101.08360825183188,
                  -31.063140775878477
                ],
                [
                  -101.12109592215006,
                  -31.04322415096034
                ],
                [
                  -101.16001487760138,
                  -31.02892045926698
                ],
                [
                  -101.19827488362705,
                  -31.013808363809893
                ]
              ],
              "when": {
                "timespans": [
                  {
                    "start": "2023-10-19T15:30Z",
                    "end": "2023-10-21T16:30Z"
                  }
                ]
              }
            },
            "properties": {
              "name": "COP_deterministic_1",
              "partNumb": 1,
              "timeStep": "00, 01:00"
            }
          },
                        {
                            "type": "Feature",
                            "geometry": {
                                "type": "LineString",
                                "coordinates": [
                                    [
                                        -100.23134500000003,
                                        -32.46187922899165
                                    ],
                                    [
                                        -100.23175316759607,
                                        -32.43059541260979
                                    ],
                                    [
                                        -100.23572524389682,
                                        -32.399959193961514
                                    ],
                                    [
                                        -100.23716666698395,
                                        -32.36979999020151
                                    ],
                                    [
                                        -100.25360982977722,
                                        -32.341748857490984
                                    ],
                                    [
                                        -100.26978777294939,
                                        -32.312403158201285
                                    ],
                                    [
                                        -100.27617870356552,
                                        -32.27789722699716
                                    ],
                                    [
                                        -100.29061883130669,
                                        -32.24425632964914
                                    ],
                                    [
                                        -100.31114706920167,
                                        -32.211864345899976
                                    ],
                                    [
                                        -100.3258903366923,
                                        -32.17665539536937
                                    ],
                                    [
                                        -100.34413495823655,
                                        -32.14177601357367
                                    ],
                                    [
                                        -100.36364231310404,
                                        -32.1071158634755
                                    ],
                                    [
                                        -100.37630151398457,
                                        -32.070214921738156
                                    ],
                                    [
                                        -100.39409578194966,
                                        -32.03631393794283
                                    ],
                                    [
                                        -100.40543993351432,
                                        -31.998959984877736
                                    ],
                                    [
                                        -100.41474318503761,
                                        -31.961745354471056
                                    ],
                                    [
                                        -100.42322498355533,
                                        -31.92762385129983
                                    ],
                                    [
                                        -100.43062035802994,
                                        -31.892740702997894
                                    ],
                                    [
                                        -100.44058371399659,
                                        -31.858385095806828
                                    ],
                                    [
                                        -100.44895514948678,
                                        -31.824080190631747
                                    ],
                                    [
                                        -100.46489896952772,
                                        -31.79188832037626
                                    ],
                                    [
                                        -100.48080171466356,
                                        -31.75854027140019
                                    ],
                                    [
                                        -100.49061381504316,
                                        -31.724829690260716
                                    ],
                                    [
                                        -100.5043955029831,
                                        -31.692404413107536
                                    ],
                                    [
                                        -100.51810704670505,
                                        -31.661104840702745
                                    ],
                                    [
                                        -100.53414735653689,
                                        -31.63354722890699
                                    ],
                                    [
                                        -100.54612698922739,
                                        -31.606303425963926
                                    ],
                                    [
                                        -100.55859596430645,
                                        -31.579257597053783
                                    ],
                                    [
                                        -100.579860602489,
                                        -31.554120712304204
                                    ],
                                    [
                                        -100.5952652741673,
                                        -31.524597262290964
                                    ],
                                    [
                                        -100.61031710155922,
                                        -31.493924182746873
                                    ],
                                    [
                                        -100.62904085105225,
                                        -31.4607968357925
                                    ],
                                    [
                                        -100.64531784739287,
                                        -31.42708506468145
                                    ],
                                    [
                                        -100.66059948101915,
                                        -31.393048279530525
                                    ],
                                    [
                                        -100.68357739619822,
                                        -31.36221573535807
                                    ],
                                    [
                                        -100.70969276057335,
                                        -31.334654348838335
                                    ],
                                    [
                                        -100.73135533561722,
                                        -31.30448555057316
                                    ],
                                    [
                                        -100.74100079711134,
                                        -31.27144063541993
                                    ],
                                    [
                                        -100.75739746490383,
                                        -31.23803006379891
                                    ],
                                    [
                                        -100.78546643373741,
                                        -31.207980135812928
                                    ],
                                    [
                                        -100.82334333385148,
                                        -31.185029045905523
                                    ],
                                    [
                                        -100.85721935497423,
                                        -31.156681214557562
                                    ],
                                    [
                                        -100.8826220954743,
                                        -31.12232241472732
                                    ],
                                    [
                                        -100.91423229900664,
                                        -31.093831008247047
                                    ],
                                    [
                                        -100.95193335569145,
                                        -31.07144114505285
                                    ],
                                    [
                                        -100.99579005470353,
                                        -31.055862852434576
                                    ],
                                    [
                                        -101.03724247468622,
                                        -31.039898773614304
                                    ],
                                    [
                                        -101.07660245978576,
                                        -31.020715623423907
                                    ],
                                    [
                                        -101.11651462994575,
                                        -31.004631816527336
                                    ],
                                    [
                                        -101.15749887676452,
                                        -30.99698048293686
                                    ],
                                    [
                                        -101.1944297342215,
                                        -30.987477694344232
                                    ]
                                ],
                                "when": {
                                    "timespans": [
                                        {
                                            "start": "2023-10-19T15:30Z",
                                            "end": "2023-10-21T17:30Z"
                                        }
                                    ]
                                }
                            },
                            "properties": {
                                "name": "COP_deterministic_2",
                                "partNumb": 2,
                                "timeStep": "00, 01:00"
                            }
                        },
                        {
                            "type": "Feature",
                            "geometry": {
                                "type": "LineString",
                                "coordinates": [
                                    [
                                        -100.2299685405155,
                                        -32.462032854167134
                                    ],
                                    [
                                        -100.22950221513968,
                                        -32.43065086599734
                                    ],
                                    [
                                        -100.23301650892883,
                                        -32.40091055599966
                                    ],
                                    [
                                        -100.24252217093841,
                                        -32.37162085167062
                                    ],
                                    [
                                        -100.2553912319639,
                                        -32.34249221941225
                                    ],
                                    [
                                        -100.27064207969309,
                                        -32.312930156070344
                                    ],
                                    [
                                        -100.2890355043741,
                                        -32.28204636256655
                                    ],
                                    [
                                        -100.29934315082708,
                                        -32.24726963246198
                                    ],
                                    [
                                        -100.32146540586902,
                                        -32.21509715554649
                                    ],
                                    [
                                        -100.33893184415138,
                                        -32.18038912192039
                                    ],
                                    [
                                        -100.3664491875048,
                                        -32.14953799069502
                                    ],
                                    [
                                        -100.38686788313979,
                                        -32.11512847835992
                                    ],
                                    [
                                        -100.40472591042987,
                                        -32.07923591509324
                                    ],
                                    [
                                        -100.42682453313448,
                                        -32.0466705429861
                                    ],
                                    [
                                        -100.43758326904552,
                                        -32.01006044467226
                                    ],
                                    [
                                        -100.43843889281386,
                                        -31.971243752145476
                                    ],
                                    [
                                        -100.4513502038648,
                                        -31.93885389937049
                                    ],
                                    [
                                        -100.45966079783722,
                                        -31.904005436344516
                                    ],
                                    [
                                        -100.47782662521125,
                                        -31.871106279491986
                                    ],
                                    [
                                        -100.4922325182505,
                                        -31.836904317687427
                                    ],
                                    [
                                        -100.49977439307742,
                                        -31.800952422062426
                                    ],
                                    [
                                        -100.51157699332222,
                                        -31.766159342708633
                                    ],
                                    [
                                        -100.5271550283048,
                                        -31.733735485504944
                                    ],
                                    [
                                        -100.54746291795206,
                                        -31.70247509409212
                                    ],
                                    [
                                        -100.56528200663561,
                                        -31.670911016226682
                                    ],
                                    [
                                        -100.58055630443023,
                                        -31.64328263414369
                                    ],
                                    [
                                        -100.58940523666968,
                                        -31.613235988554038
                                    ],
                                    [
                                        -100.59736998397604,
                                        -31.584571839006962
                                    ],
                                    [
                                        -100.60555795374195,
                                        -31.553661395899027
                                    ],
                                    [
                                        -100.61707274839905,
                                        -31.52284627360312
                                    ],
                                    [
                                        -100.6366099194559,
                                        -31.493167037690096
                                    ],
                                    [
                                        -100.65990590295814,
                                        -31.46267010835698
                                    ],
                                    [
                                        -100.67817485415056,
                                        -31.429886144314054
                                    ],
                                    [
                                        -100.69853497482114,
                                        -31.398299330161528
                                    ],
                                    [
                                        -100.72226053852127,
                                        -31.368349824984453
                                    ],
                                    [
                                        -100.74402624853538,
                                        -31.338415192467355
                                    ],
                                    [
                                        -100.7640827584291,
                                        -31.308449822981842
                                    ],
                                    [
                                        -100.78242071353567,
                                        -31.27883609938546
                                    ],
                                    [
                                        -100.80316524290753,
                                        -31.247914523744477
                                    ],
                                    [
                                        -100.8278990444976,
                                        -31.216611576413154
                                    ],
                                    [
                                        -100.85247001179835,
                                        -31.1841103899613
                                    ],
                                    [
                                        -100.87990454022987,
                                        -31.151915012046654
                                    ],
                                    [
                                        -100.90639073159177,
                                        -31.11935615531412
                                    ],
                                    [
                                        -100.94494255212477,
                                        -31.097390950387336
                                    ],
                                    [
                                        -100.97954806038406,
                                        -31.069759295524097
                                    ],
                                    [
                                        -101.01742435935411,
                                        -31.04749540970651
                                    ],
                                    [
                                        -101.05647553434216,
                                        -31.027395578901803
                                    ],
                                    [
                                        -101.09332796866771,
                                        -31.005311623599628
                                    ],
                                    [
                                        -101.1318921403306,
                                        -30.988071365580872
                                    ],
                                    [
                                        -101.17156085297444,
                                        -30.978120073984673
                                    ],
                                    [
                                        -101.21148476323766,
                                        -30.976552353973542
                                    ]
                                ],
                                "when": {
                                    "timespans": [
                                        {
                                            "start": "2023-10-19T15:30Z",
                                            "end": "2023-10-21T17:30Z"
                                        }
                                    ]
                                }
                            },
                            "properties": {
                                "name": "COP_deterministic_3",
                                "partNumb": 3,
                                "timeStep": "00, 01:00"
                            }
                        },
                        {
                            "type": "Feature",
                            "geometry": {
                                "type": "LineString",
                                "coordinates": [
                                    [
                                        -100.22868587123526,
                                        -32.46248326187325
                                    ],
                                    [
                                        -100.23848260365814,
                                        -32.43207816148919
                                    ],
                                    [
                                        -100.23643133481133,
                                        -32.40126646810044
                                    ],
                                    [
                                        -100.2338374270635,
                                        -32.37057858817409
                                    ],
                                    [
                                        -100.23880678412043,
                                        -32.33959934373881
                                    ],
                                    [
                                        -100.24859154184098,
                                        -32.308054611210785
                                    ],
                                    [
                                        -100.26601772176882,
                                        -32.277203898877254
                                    ],
                                    [
                                        -100.26896840089549,
                                        -32.24124014312078
                                    ],
                                    [
                                        -100.28643402630567,
                                        -32.208384859540544
                                    ],
                                    [
                                        -100.31265420280376,
                                        -32.1786022141621
                                    ],
                                    [
                                        -100.32239609927305,
                                        -32.14092507947746
                                    ],
                                    [
                                        -100.32822825673492,
                                        -32.103003823333474
                                    ],
                                    [
                                        -100.34365274005148,
                                        -32.06760833036776
                                    ],
                                    [
                                        -100.35469129767672,
                                        -32.031041069072366
                                    ],
                                    [
                                        -100.37330516782917,
                                        -31.99610414056896
                                    ],
                                    [
                                        -100.37848825235113,
                                        -31.95759629736197
                                    ],
                                    [
                                        -100.38338842277976,
                                        -31.92388158190921
                                    ],
                                    [
                                        -100.38722140254147,
                                        -31.889741089656674
                                    ],
                                    [
                                        -100.39294322781845,
                                        -31.85610948888919
                                    ],
                                    [
                                        -100.41368724583552,
                                        -31.8271249015148
                                    ],
                                    [
                                        -100.4221099684859,
                                        -31.793967162019154
                                    ],
                                    [
                                        -100.43574177759244,
                                        -31.76294524434988
                                    ],
                                    [
                                        -100.44963030349375,
                                        -31.731816715682132
                                    ],
                                    [
                                        -100.46389217233558,
                                        -31.700901408365365
                                    ],
                                    [
                                        -100.4823118916306,
                                        -31.6711880504862
                                    ],
                                    [
                                        -100.49785916673505,
                                        -31.64405960550579
                                    ],
                                    [
                                        -100.50769045375652,
                                        -31.615606718409037
                                    ],
                                    [
                                        -100.52354880611621,
                                        -31.590052251996944
                                    ],
                                    [
                                        -100.53883941479067,
                                        -31.563099171749975
                                    ],
                                    [
                                        -100.55643812523911,
                                        -31.535040976620504
                                    ],
                                    [
                                        -100.57155834476458,
                                        -31.504185773439637
                                    ],
                                    [
                                        -100.59301561384471,
                                        -31.473354900150273
                                    ],
                                    [
                                        -100.61761320716333,
                                        -31.443771226997576
                                    ],
                                    [
                                        -100.64186418126386,
                                        -31.414808805703323
                                    ],
                                    [
                                        -100.66976571538108,
                                        -31.3867073421162
                                    ],
                                    [
                                        -100.69601664377669,
                                        -31.3579603408407
                                    ],
                                    [
                                        -100.71750600666927,
                                        -31.32780268605339
                                    ],
                                    [
                                        -100.7330521503827,
                                        -31.296940385352052
                                    ],
                                    [
                                        -100.7594699479385,
                                        -31.269011253511508
                                    ],
                                    [
                                        -100.78841674990402,
                                        -31.239443152429477
                                    ],
                                    [
                                        -100.81932782879551,
                                        -31.211782287137947
                                    ],
                                    [
                                        -100.8505111690842,
                                        -31.181963721081726
                                    ],
                                    [
                                        -100.88332156034451,
                                        -31.153676120140638
                                    ],
                                    [
                                        -100.91879142928686,
                                        -31.1296879143587
                                    ],
                                    [
                                        -100.95617217764362,
                                        -31.10521196591807
                                    ],
                                    [
                                        -100.99934871915806,
                                        -31.088853385643407
                                    ],
                                    [
                                        -101.03812304674527,
                                        -31.0699062699634
                                    ],
                                    [
                                        -101.07998143380071,
                                        -31.0583241030401
                                    ],
                                    [
                                        -101.11716812149845,
                                        -31.039437880356825
                                    ],
                                    [
                                        -101.15617786299958,
                                        -31.024750307836772
                                    ],
                                    [
                                        -101.19586268650266,
                                        -31.017910693349123
                                    ]
                                ],
                                "when": {
                                    "timespans": [
                                        {
                                            "start": "2023-10-19T15:30Z",
                                            "end": "2023-10-21T17:30Z"
                                        }
                                    ]
                                }
                            },
                            "properties": {
                                "name": "COP_deterministic_4",
                                "partNumb": 4,
                                "timeStep": "00, 01:00"
                            }
                        },
                        {
                            "type": "Feature",
                            "geometry": {
                                "type": "LineString",
                                "coordinates": [
                                    [
                                        -100.22758439426153,
                                        -32.46319976161675
                                    ],
                                    [
                                        -100.2299807148135,
                                        -32.43239973246196
                                    ],
                                    [
                                        -100.23259037004618,
                                        -32.40234321835
                                    ],
                                    [
                                        -100.23492796860894,
                                        -32.37204385883019
                                    ],
                                    [
                                        -100.24727110885287,
                                        -32.343140811157646
                                    ],
                                    [
                                        -100.26317448923693,
                                        -32.31311637417056
                                    ],
                                    [
                                        -100.27147187388763,
                                        -32.279764306970016
                                    ],
                                    [
                                        -100.29204878473129,
                                        -32.24809425755423
                                    ],
                                    [
                                        -100.31358200955195,
                                        -32.21551741658592
                                    ],
                                    [
                                        -100.32747323455371,
                                        -32.180313224767474
                                    ],
                                    [
                                        -100.34415985836068,
                                        -32.144235608185845
                                    ],
                                    [
                                        -100.3572107127187,
                                        -32.10778263533288
                                    ],
                                    [
                                        -100.36419603071508,
                                        -32.06960061056312
                                    ],
                                    [
                                        -100.37796034328134,
                                        -32.033050753511716
                                    ],
                                    [
                                        -100.3850607737815,
                                        -31.994580670432256
                                    ],
                                    [
                                        -100.39648851367113,
                                        -31.957544440036823
                                    ],
                                    [
                                        -100.41049486227828,
                                        -31.924894881823466
                                    ],
                                    [
                                        -100.4261615771428,
                                        -31.892664572481408
                                    ],
                                    [
                                        -100.44250507732677,
                                        -31.86034534569394
                                    ],
                                    [
                                        -100.45321998580391,
                                        -31.826747537914432
                                    ],
                                    [
                                        -100.46223337355922,
                                        -31.79216832085293
                                    ],
                                    [
                                        -100.46988631026679,
                                        -31.756912877516402
                                    ],
                                    [
                                        -100.4905344570486,
                                        -31.728029902241875
                                    ],
                                    [
                                        -100.49987810753669,
                                        -31.694805703746372
                                    ],
                                    [
                                        -100.51175614159473,
                                        -31.6622465141291
                                    ],
                                    [
                                        -100.52872184225922,
                                        -31.63521437133704
                                    ],
                                    [
                                        -100.54507573388172,
                                        -31.609135636714296
                                    ],
                                    [
                                        -100.5578035774585,
                                        -31.582256087861534
                                    ],
                                    [
                                        -100.56817808044899,
                                        -31.55249274408778
                                    ],
                                    [
                                        -100.57463421410486,
                                        -31.520771358935697
                                    ],
                                    [
                                        -100.5986681202481,
                                        -31.494405285738864
                                    ],
                                    [
                                        -100.62096554131772,
                                        -31.46377093575328
                                    ],
                                    [
                                        -100.64324796083989,
                                        -31.433290222542354
                                    ],
                                    [
                                        -100.66171124555791,
                                        -31.40041369037591
                                    ],
                                    [
                                        -100.6838179170305,
                                        -31.370072471544372
                                    ],
                                    [
                                        -100.71169498701587,
                                        -31.343589198878725
                                    ],
                                    [
                                        -100.73570631940393,
                                        -31.315047897201786
                                    ],
                                    [
                                        -100.74820148529203,
                                        -31.283425113480487
                                    ],
                                    [
                                        -100.76949268014612,
                                        -31.252396589574865
                                    ],
                                    [
                                        -100.79426087147556,
                                        -31.220792120860217
                                    ],
                                    [
                                        -100.82751136204135,
                                        -31.19393824384391
                                    ],
                                    [
                                        -100.85623760097083,
                                        -31.16324910245512
                                    ],
                                    [
                                        -100.88920396804437,
                                        -31.13491129210435
                                    ],
                                    [
                                        -100.92848770476488,
                                        -31.115014155375498
                                    ],
                                    [
                                        -100.96781592677648,
                                        -31.09323015686442
                                    ],
                                    [
                                        -101.00352983193126,
                                        -31.065994739463964
                                    ],
                                    [
                                        -101.04167995236095,
                                        -31.04440653990368
                                    ],
                                    [
                                        -101.08407971616741,
                                        -31.032343916230428
                                    ],
                                    [
                                        -101.12681560767973,
                                        -31.02536604736098
                                    ],
                                    [
                                        -101.16903478049885,
                                        -31.02063031349477
                                    ],
                                    [
                                        -101.20532135925342,
                                        -31.009226116156285
                                    ]
                                ],
                                "when": {
                                    "timespans": [
                                        {
                                            "start": "2023-10-19T15:30Z",
                                            "end": "2023-10-21T17:30Z"
                                        }
                                    ]
                                }
                            },
                            "properties": {
                                "name": "COP_deterministic_5",
                                "partNumb": 5,
                                "timeStep": "00, 01:00"
                            }
                        },{
                            "type": "Feature",
                            "geometry": {
                                "type": "LineString",
                                "coordinates": [
                                    [
                                        -100.22673916988168,
                                        -32.46413353065355
                                    ],
                                    [
                                        -100.22639575505067,
                                        -32.43280338873819
                                    ],
                                    [
                                        -100.2333537029081,
                                        -32.402911438286964
                                    ],
                                    [
                                        -100.2408821991579,
                                        -32.37409989229294
                                    ],
                                    [
                                        -100.25500244998732,
                                        -32.344999792715704
                                    ],
                                    [
                                        -100.26994296356783,
                                        -32.31483782101349
                                    ],
                                    [
                                        -100.28954148875928,
                                        -32.284466381933115
                                    ],
                                    [
                                        -100.30299115110543,
                                        -32.250697888322144
                                    ],
                                    [
                                        -100.32014440949582,
                                        -32.21709917948118
                                    ],
                                    [
                                        -100.34053529693898,
                                        -32.184569313963024
                                    ],
                                    [
                                        -100.35893996719382,
                                        -32.1491353874144
                                    ],
                                    [
                                        -100.37233534654753,
                                        -32.11200237830857
                                    ],
                                    [
                                        -100.39217084702804,
                                        -32.07698693431442
                                    ],
                                    [
                                        -100.40218869138224,
                                        -32.04052378855255
                                    ],
                                    [
                                        -100.41878584262639,
                                        -32.00502857200314
                                    ],
                                    [
                                        -100.42824750859377,
                                        -31.967203760218798
                                    ],
                                    [
                                        -100.43431703827997,
                                        -31.932718976089873
                                    ],
                                    [
                                        -100.4479765404179,
                                        -31.899859842957305
                                    ],
                                    [
                                        -100.46230868162732,
                                        -31.866627057463702
                                    ],
                                    [
                                        -100.47009132435626,
                                        -31.831535745137625
                                    ],
                                    [
                                        -100.48002076333445,
                                        -31.796414867873974
                                    ],
                                    [
                                        -100.48077373492201,
                                        -31.759809715505305
                                    ],
                                    [
                                        -100.49783393650833,
                                        -31.72811985586155
                                    ],
                                    [
                                        -100.51707105206518,
                                        -31.697878212488728
                                    ],
                                    [
                                        -100.53080910080867,
                                        -31.665586657200162
                                    ],
                                    [
                                        -100.55040204137484,
                                        -31.63933074882615
                                    ],
                                    [
                                        -100.56258235575241,
                                        -31.61056005789595
                                    ],
                                    [
                                        -100.58067590805179,
                                        -31.585370893578315
                                    ],
                                    [
                                        -100.59222727030773,
                                        -31.555337254891565
                                    ],
                                    [
                                        -100.6116440912171,
                                        -31.52767256806203
                                    ],
                                    [
                                        -100.62975776859557,
                                        -31.498803975187034
                                    ],
                                    [
                                        -100.64550701111669,
                                        -31.46414060773239
                                    ],
                                    [
                                        -100.66919118551685,
                                        -31.434620468837526
                                    ],
                                    [
                                        -100.68798659750802,
                                        -31.401869459158007
                                    ],
                                    [
                                        -100.70800466232117,
                                        -31.370883929028402
                                    ],
                                    [
                                        -100.72931449618295,
                                        -31.340195690663542
                                    ],
                                    [
                                        -100.75244929504693,
                                        -31.312210867215278
                                    ],
                                    [
                                        -100.76714968696218,
                                        -31.2808782940607
                                    ],
                                    [
                                        -100.7888778529329,
                                        -31.25028865542114
                                    ],
                                    [
                                        -100.81725910756008,
                                        -31.22038951321753
                                    ],
                                    [
                                        -100.844937247971,
                                        -31.18980937712269
                                    ],
                                    [
                                        -100.87431975748969,
                                        -31.15895789965675
                                    ],
                                    [
                                        -100.8996320367714,
                                        -31.12539682881575
                                    ],
                                    [
                                        -100.93541813244398,
                                        -31.101319068311977
                                    ],
                                    [
                                        -100.97710018064826,
                                        -31.082653561975437
                                    ],
                                    [
                                        -101.01738528190923,
                                        -31.06291396436012
                                    ],
                                    [
                                        -101.05740906989129,
                                        -31.045385564046665
                                    ],
                                    [
                                        -101.09677568269589,
                                        -31.027038474571544
                                    ],
                                    [
                                        -101.13907065316893,
                                        -31.018156400560706
                                    ],
                                    [
                                        -101.17767607092827,
                                        -31.004986877575103
                                    ]
                                ],
                                "when": {
                                    "timespans": [
                                        {
                                            "start": "2023-10-19T15:30Z",
                                            "end": "2023-10-21T16:30Z"
                                        }
                                    ]
                                }
                            }
                        }
          ]
        }

        const geoson2 =
        {
            "message": "Solicitud completa",
            "modelType": "MDPp",
            "model": {
                "Resultados": [
                    {
                        "file": "COP_deterministic_65368408a9ceea2c38bbd9c9",
                        "GeoJSON":{
            "type": "FeatureCollection",
            "features": [
              {
                "type": "Feature",
                "geometry": {
                  "type": "LineString",
                  "coordinates": [
                    [
                      -100.231345,
                      -32.466388
                    ],
                    [
                      -100.23185985453989,
                      -32.435346549323484
                    ],
                    [
                      -100.23798075393441,
                      -32.40495179551904
                    ],
                    [
                      -100.24952988342682,
                      -32.376584770012826
                    ],
                    [
                      -100.2566842847087,
                      -32.3458373973978
                    ],
                    [
                      -100.27700345400794,
                      -32.317685586706006
                    ],
                    [
                      -100.29835317584515,
                      -32.28846789834216
                    ],
                    [
                      -100.30860571513327,
                      -32.25310645784959
                    ],
                    [
                      -100.32426967467013,
                      -32.218153168252734
                    ],
                    [
                      -100.3439066937418,
                      -32.1854263879306
                    ],
                    [
                      -100.3629484743379,
                      -32.15048648336214
                    ],
                    [
                      -100.37994034944035,
                      -32.11487014028373
                    ],
                    [
                      -100.40275155086431,
                      -32.082152364075256
                    ],
                    [
                      -100.42190180146851,
                      -32.0482521452639
                    ],
                    [
                      -100.42842296730205,
                      -32.01059427607446
                    ],
                    [
                      -100.43924692405348,
                      -31.972747183302832
                    ],
                    [
                      -100.45181016208802,
                      -31.939115515065904
                    ],
                    [
                      -100.45890590217006,
                      -31.904217399029708
                    ],
                    [
                      -100.46842997355319,
                      -31.869242249253467
                    ],
                    [
                      -100.46919489865616,
                      -31.832845951833157
                    ],
                    [
                      -100.47975941757002,
                      -31.797680769662914
                    ],
                    [
                      -100.4913105634196,
                      -31.762675663335582
                    ],
                    [
                      -100.50669364799343,
                      -31.73141187664486
                    ],
                    [
                      -100.52562356493807,
                      -31.700776611875256
                    ],
                    [
                      -100.54151485812929,
                      -31.668545102358205
                    ],
                    [
                      -100.56163842441264,
                      -31.642078620247982
                    ],
                    [
                      -100.57976536233308,
                      -31.615503677933
                    ],
                    [
                      -100.59138154372883,
                      -31.587413858017797
                    ],
                    [
                      -100.60730947416819,
                      -31.559288039567072
                    ],
                    [
                      -100.62300430463624,
                      -31.530037991182855
                    ],
                    [
                      -100.64313319674632,
                      -31.50029697463505
                    ],
                    [
                      -100.6665426462084,
                      -31.469426192661306
                    ],
                    [
                      -100.68492853999764,
                      -31.437298123612848
                    ],
                    [
                      -100.70194917702383,
                      -31.40440481475568
                    ],
                    [
                      -100.72270931363774,
                      -31.372668722978624
                    ],
                    [
                      -100.7452249321836,
                      -31.34282612198838
                    ],
                    [
                      -100.76180482646468,
                      -31.310683869095804
                    ],
                    [
                      -100.77046095371092,
                      -31.277862754061207
                    ],
                    [
                      -100.79686411162571,
                      -31.25067367462772
                    ],
                    [
                      -100.82600341553808,
                      -31.222255847546712
                    ],
                    [
                      -100.85677338952,
                      -31.195686230938257
                    ],
                    [
                      -100.88791346306813,
                      -31.166562518182005
                    ],
                    [
                      -100.92689570794897,
                      -31.14420520240624
                    ],
                    [
                      -100.96146031750041,
                      -31.119710303870242
                    ],
                    [
                      -101.00235152340056,
                      -31.09913800331081
                    ],
                    [
                      -101.04317316381834,
                      -31.0796646058382
                    ],
                    [
                      -101.08360825183188,
                      -31.063140775878477
                    ],
                    [
                      -101.12109592215006,
                      -31.04322415096034
                    ],
                    [
                      -101.16001487760138,
                      -31.02892045926698
                    ],
                    [
                      -101.19827488362705,
                      -31.013808363809893
                    ]
                  ],
                  "when": {
                    "timespans": [
                      {
                        "start": "2023-10-19T15:30Z",
                        "end": "2023-10-21T16:30Z"
                      }
                    ]
                  }
                },
                "properties": {
                  "name": "COP_deterministic_1",
                  "partNumb": 1,
                  "timeStep": "00, 01:00"
                }
              },
                            {
                                "type": "Feature",
                                "geometry": {
                                    "type": "LineString",
                                    "coordinates": [
                                        [
                                            -100.23134500000003,
                                            -32.46187922899165
                                        ],
                                        [
                                            -100.23175316759607,
                                            -32.43059541260979
                                        ],
                                        [
                                            -100.23572524389682,
                                            -32.399959193961514
                                        ],
                                        [
                                            -100.23716666698395,
                                            -32.36979999020151
                                        ],
                                        [
                                            -100.25360982977722,
                                            -32.341748857490984
                                        ],
                                        [
                                            -100.26978777294939,
                                            -32.312403158201285
                                        ],
                                        [
                                            -100.27617870356552,
                                            -32.27789722699716
                                        ],
                                        [
                                            -100.29061883130669,
                                            -32.24425632964914
                                        ],
                                        [
                                            -100.31114706920167,
                                            -32.211864345899976
                                        ],
                                        [
                                            -100.3258903366923,
                                            -32.17665539536937
                                        ],
                                        [
                                            -100.34413495823655,
                                            -32.14177601357367
                                        ],
                                        [
                                            -100.36364231310404,
                                            -32.1071158634755
                                        ],
                                        [
                                            -100.37630151398457,
                                            -32.070214921738156
                                        ],
                                        [
                                            -100.39409578194966,
                                            -32.03631393794283
                                        ],
                                        [
                                            -100.40543993351432,
                                            -31.998959984877736
                                        ],
                                        [
                                            -100.41474318503761,
                                            -31.961745354471056
                                        ],
                                        [
                                            -100.42322498355533,
                                            -31.92762385129983
                                        ],
                                        [
                                            -100.43062035802994,
                                            -31.892740702997894
                                        ],
                                        [
                                            -100.44058371399659,
                                            -31.858385095806828
                                        ],
                                        [
                                            -100.44895514948678,
                                            -31.824080190631747
                                        ],
                                        [
                                            -100.46489896952772,
                                            -31.79188832037626
                                        ],
                                        [
                                            -100.48080171466356,
                                            -31.75854027140019
                                        ],
                                        [
                                            -100.49061381504316,
                                            -31.724829690260716
                                        ],
                                        [
                                            -100.5043955029831,
                                            -31.692404413107536
                                        ],
                                        [
                                            -100.51810704670505,
                                            -31.661104840702745
                                        ],
                                        [
                                            -100.53414735653689,
                                            -31.63354722890699
                                        ],
                                        [
                                            -100.54612698922739,
                                            -31.606303425963926
                                        ],
                                        [
                                            -100.55859596430645,
                                            -31.579257597053783
                                        ],
                                        [
                                            -100.579860602489,
                                            -31.554120712304204
                                        ],
                                        [
                                            -100.5952652741673,
                                            -31.524597262290964
                                        ],
                                        [
                                            -100.61031710155922,
                                            -31.493924182746873
                                        ],
                                        [
                                            -100.62904085105225,
                                            -31.4607968357925
                                        ],
                                        [
                                            -100.64531784739287,
                                            -31.42708506468145
                                        ],
                                        [
                                            -100.66059948101915,
                                            -31.393048279530525
                                        ],
                                        [
                                            -100.68357739619822,
                                            -31.36221573535807
                                        ],
                                        [
                                            -100.70969276057335,
                                            -31.334654348838335
                                        ],
                                        [
                                            -100.73135533561722,
                                            -31.30448555057316
                                        ],
                                        [
                                            -100.74100079711134,
                                            -31.27144063541993
                                        ],
                                        [
                                            -100.75739746490383,
                                            -31.23803006379891
                                        ],
                                        [
                                            -100.78546643373741,
                                            -31.207980135812928
                                        ],
                                        [
                                            -100.82334333385148,
                                            -31.185029045905523
                                        ],
                                        [
                                            -100.85721935497423,
                                            -31.156681214557562
                                        ],
                                        [
                                            -100.8826220954743,
                                            -31.12232241472732
                                        ],
                                        [
                                            -100.91423229900664,
                                            -31.093831008247047
                                        ],
                                        [
                                            -100.95193335569145,
                                            -31.07144114505285
                                        ],
                                        [
                                            -100.99579005470353,
                                            -31.055862852434576
                                        ],
                                        [
                                            -101.03724247468622,
                                            -31.039898773614304
                                        ],
                                        [
                                            -101.07660245978576,
                                            -31.020715623423907
                                        ],
                                        [
                                            -101.11651462994575,
                                            -31.004631816527336
                                        ],
                                        [
                                            -101.15749887676452,
                                            -30.99698048293686
                                        ],
                                        [
                                            -101.1944297342215,
                                            -30.987477694344232
                                        ]
                                    ],
                                    "when": {
                                        "timespans": [
                                            {
                                                "start": "2023-10-19T15:30Z",
                                                "end": "2023-10-21T17:30Z"
                                            }
                                        ]
                                    }
                                },
                                "properties": {
                                    "name": "COP_deterministic_2",
                                    "partNumb": 2,
                                    "timeStep": "00, 01:00"
                                }
                            },
                            {
                                "type": "Feature",
                                "geometry": {
                                    "type": "LineString",
                                    "coordinates": [
                                        [
                                            -100.2299685405155,
                                            -32.462032854167134
                                        ],
                                        [
                                            -100.22950221513968,
                                            -32.43065086599734
                                        ],
                                        [
                                            -100.23301650892883,
                                            -32.40091055599966
                                        ],
                                        [
                                            -100.24252217093841,
                                            -32.37162085167062
                                        ],
                                        [
                                            -100.2553912319639,
                                            -32.34249221941225
                                        ],
                                        [
                                            -100.27064207969309,
                                            -32.312930156070344
                                        ],
                                        [
                                            -100.2890355043741,
                                            -32.28204636256655
                                        ],
                                        [
                                            -100.29934315082708,
                                            -32.24726963246198
                                        ],
                                        [
                                            -100.32146540586902,
                                            -32.21509715554649
                                        ],
                                        [
                                            -100.33893184415138,
                                            -32.18038912192039
                                        ],
                                        [
                                            -100.3664491875048,
                                            -32.14953799069502
                                        ],
                                        [
                                            -100.38686788313979,
                                            -32.11512847835992
                                        ],
                                        [
                                            -100.40472591042987,
                                            -32.07923591509324
                                        ],
                                        [
                                            -100.42682453313448,
                                            -32.0466705429861
                                        ],
                                        [
                                            -100.43758326904552,
                                            -32.01006044467226
                                        ],
                                        [
                                            -100.43843889281386,
                                            -31.971243752145476
                                        ],
                                        [
                                            -100.4513502038648,
                                            -31.93885389937049
                                        ],
                                        [
                                            -100.45966079783722,
                                            -31.904005436344516
                                        ],
                                        [
                                            -100.47782662521125,
                                            -31.871106279491986
                                        ],
                                        [
                                            -100.4922325182505,
                                            -31.836904317687427
                                        ],
                                        [
                                            -100.49977439307742,
                                            -31.800952422062426
                                        ],
                                        [
                                            -100.51157699332222,
                                            -31.766159342708633
                                        ],
                                        [
                                            -100.5271550283048,
                                            -31.733735485504944
                                        ],
                                        [
                                            -100.54746291795206,
                                            -31.70247509409212
                                        ],
                                        [
                                            -100.56528200663561,
                                            -31.670911016226682
                                        ],
                                        [
                                            -100.58055630443023,
                                            -31.64328263414369
                                        ],
                                        [
                                            -100.58940523666968,
                                            -31.613235988554038
                                        ],
                                        [
                                            -100.59736998397604,
                                            -31.584571839006962
                                        ],
                                        [
                                            -100.60555795374195,
                                            -31.553661395899027
                                        ],
                                        [
                                            -100.61707274839905,
                                            -31.52284627360312
                                        ],
                                        [
                                            -100.6366099194559,
                                            -31.493167037690096
                                        ],
                                        [
                                            -100.65990590295814,
                                            -31.46267010835698
                                        ],
                                        [
                                            -100.67817485415056,
                                            -31.429886144314054
                                        ],
                                        [
                                            -100.69853497482114,
                                            -31.398299330161528
                                        ],
                                        [
                                            -100.72226053852127,
                                            -31.368349824984453
                                        ],
                                        [
                                            -100.74402624853538,
                                            -31.338415192467355
                                        ],
                                        [
                                            -100.7640827584291,
                                            -31.308449822981842
                                        ],
                                        [
                                            -100.78242071353567,
                                            -31.27883609938546
                                        ],
                                        [
                                            -100.80316524290753,
                                            -31.247914523744477
                                        ],
                                        [
                                            -100.8278990444976,
                                            -31.216611576413154
                                        ],
                                        [
                                            -100.85247001179835,
                                            -31.1841103899613
                                        ],
                                        [
                                            -100.87990454022987,
                                            -31.151915012046654
                                        ],
                                        [
                                            -100.90639073159177,
                                            -31.11935615531412
                                        ],
                                        [
                                            -100.94494255212477,
                                            -31.097390950387336
                                        ],
                                        [
                                            -100.97954806038406,
                                            -31.069759295524097
                                        ],
                                        [
                                            -101.01742435935411,
                                            -31.04749540970651
                                        ],
                                        [
                                            -101.05647553434216,
                                            -31.027395578901803
                                        ],
                                        [
                                            -101.09332796866771,
                                            -31.005311623599628
                                        ],
                                        [
                                            -101.1318921403306,
                                            -30.988071365580872
                                        ],
                                        [
                                            -101.17156085297444,
                                            -30.978120073984673
                                        ],
                                        [
                                            -101.21148476323766,
                                            -30.976552353973542
                                        ]
                                    ],
                                    "when": {
                                        "timespans": [
                                            {
                                                "start": "2023-10-19T15:30Z",
                                                "end": "2023-10-21T17:30Z"
                                            }
                                        ]
                                    }
                                },
                                "properties": {
                                    "name": "COP_deterministic_3",
                                    "partNumb": 3,
                                    "timeStep": "00, 01:00"
                                }
                            },
                            {
                                "type": "Feature",
                                "geometry": {
                                    "type": "LineString",
                                    "coordinates": [
                                        [
                                            -100.22868587123526,
                                            -32.46248326187325
                                        ],
                                        [
                                            -100.23848260365814,
                                            -32.43207816148919
                                        ],
                                        [
                                            -100.23643133481133,
                                            -32.40126646810044
                                        ],
                                        [
                                            -100.2338374270635,
                                            -32.37057858817409
                                        ],
                                        [
                                            -100.23880678412043,
                                            -32.33959934373881
                                        ],
                                        [
                                            -100.24859154184098,
                                            -32.308054611210785
                                        ],
                                        [
                                            -100.26601772176882,
                                            -32.277203898877254
                                        ],
                                        [
                                            -100.26896840089549,
                                            -32.24124014312078
                                        ],
                                        [
                                            -100.28643402630567,
                                            -32.208384859540544
                                        ],
                                        [
                                            -100.31265420280376,
                                            -32.1786022141621
                                        ],
                                        [
                                            -100.32239609927305,
                                            -32.14092507947746
                                        ],
                                        [
                                            -100.32822825673492,
                                            -32.103003823333474
                                        ],
                                        [
                                            -100.34365274005148,
                                            -32.06760833036776
                                        ],
                                        [
                                            -100.35469129767672,
                                            -32.031041069072366
                                        ],
                                        [
                                            -100.37330516782917,
                                            -31.99610414056896
                                        ],
                                        [
                                            -100.37848825235113,
                                            -31.95759629736197
                                        ],
                                        [
                                            -100.38338842277976,
                                            -31.92388158190921
                                        ],
                                        [
                                            -100.38722140254147,
                                            -31.889741089656674
                                        ],
                                        [
                                            -100.39294322781845,
                                            -31.85610948888919
                                        ],
                                        [
                                            -100.41368724583552,
                                            -31.8271249015148
                                        ],
                                        [
                                            -100.4221099684859,
                                            -31.793967162019154
                                        ],
                                        [
                                            -100.43574177759244,
                                            -31.76294524434988
                                        ],
                                        [
                                            -100.44963030349375,
                                            -31.731816715682132
                                        ],
                                        [
                                            -100.46389217233558,
                                            -31.700901408365365
                                        ],
                                        [
                                            -100.4823118916306,
                                            -31.6711880504862
                                        ],
                                        [
                                            -100.49785916673505,
                                            -31.64405960550579
                                        ],
                                        [
                                            -100.50769045375652,
                                            -31.615606718409037
                                        ],
                                        [
                                            -100.52354880611621,
                                            -31.590052251996944
                                        ],
                                        [
                                            -100.53883941479067,
                                            -31.563099171749975
                                        ],
                                        [
                                            -100.55643812523911,
                                            -31.535040976620504
                                        ],
                                        [
                                            -100.57155834476458,
                                            -31.504185773439637
                                        ],
                                        [
                                            -100.59301561384471,
                                            -31.473354900150273
                                        ],
                                        [
                                            -100.61761320716333,
                                            -31.443771226997576
                                        ],
                                        [
                                            -100.64186418126386,
                                            -31.414808805703323
                                        ],
                                        [
                                            -100.66976571538108,
                                            -31.3867073421162
                                        ],
                                        [
                                            -100.69601664377669,
                                            -31.3579603408407
                                        ],
                                        [
                                            -100.71750600666927,
                                            -31.32780268605339
                                        ],
                                        [
                                            -100.7330521503827,
                                            -31.296940385352052
                                        ],
                                        [
                                            -100.7594699479385,
                                            -31.269011253511508
                                        ],
                                        [
                                            -100.78841674990402,
                                            -31.239443152429477
                                        ],
                                        [
                                            -100.81932782879551,
                                            -31.211782287137947
                                        ],
                                        [
                                            -100.8505111690842,
                                            -31.181963721081726
                                        ],
                                        [
                                            -100.88332156034451,
                                            -31.153676120140638
                                        ],
                                        [
                                            -100.91879142928686,
                                            -31.1296879143587
                                        ],
                                        [
                                            -100.95617217764362,
                                            -31.10521196591807
                                        ],
                                        [
                                            -100.99934871915806,
                                            -31.088853385643407
                                        ],
                                        [
                                            -101.03812304674527,
                                            -31.0699062699634
                                        ],
                                        [
                                            -101.07998143380071,
                                            -31.0583241030401
                                        ],
                                        [
                                            -101.11716812149845,
                                            -31.039437880356825
                                        ],
                                        [
                                            -101.15617786299958,
                                            -31.024750307836772
                                        ],
                                        [
                                            -101.19586268650266,
                                            -31.017910693349123
                                        ]
                                    ],
                                    "when": {
                                        "timespans": [
                                            {
                                                "start": "2023-10-19T15:30Z",
                                                "end": "2023-10-21T17:30Z"
                                            }
                                        ]
                                    }
                                },
                                "properties": {
                                    "name": "COP_deterministic_4",
                                    "partNumb": 4,
                                    "timeStep": "00, 01:00"
                                }
                            },
                            {
                                "type": "Feature",
                                "geometry": {
                                    "type": "LineString",
                                    "coordinates": [
                                        [
                                            -100.22758439426153,
                                            -32.46319976161675
                                        ],
                                        [
                                            -100.2299807148135,
                                            -32.43239973246196
                                        ],
                                        [
                                            -100.23259037004618,
                                            -32.40234321835
                                        ],
                                        [
                                            -100.23492796860894,
                                            -32.37204385883019
                                        ],
                                        [
                                            -100.24727110885287,
                                            -32.343140811157646
                                        ],
                                        [
                                            -100.26317448923693,
                                            -32.31311637417056
                                        ],
                                        [
                                            -100.27147187388763,
                                            -32.279764306970016
                                        ],
                                        [
                                            -100.29204878473129,
                                            -32.24809425755423
                                        ],
                                        [
                                            -100.31358200955195,
                                            -32.21551741658592
                                        ],
                                        [
                                            -100.32747323455371,
                                            -32.180313224767474
                                        ],
                                        [
                                            -100.34415985836068,
                                            -32.144235608185845
                                        ],
                                        [
                                            -100.3572107127187,
                                            -32.10778263533288
                                        ],
                                        [
                                            -100.36419603071508,
                                            -32.06960061056312
                                        ],
                                        [
                                            -100.37796034328134,
                                            -32.033050753511716
                                        ],
                                        [
                                            -100.3850607737815,
                                            -31.994580670432256
                                        ],
                                        [
                                            -100.39648851367113,
                                            -31.957544440036823
                                        ],
                                        [
                                            -100.41049486227828,
                                            -31.924894881823466
                                        ],
                                        [
                                            -100.4261615771428,
                                            -31.892664572481408
                                        ],
                                        [
                                            -100.44250507732677,
                                            -31.86034534569394
                                        ],
                                        [
                                            -100.45321998580391,
                                            -31.826747537914432
                                        ],
                                        [
                                            -100.46223337355922,
                                            -31.79216832085293
                                        ],
                                        [
                                            -100.46988631026679,
                                            -31.756912877516402
                                        ],
                                        [
                                            -100.4905344570486,
                                            -31.728029902241875
                                        ],
                                        [
                                            -100.49987810753669,
                                            -31.694805703746372
                                        ],
                                        [
                                            -100.51175614159473,
                                            -31.6622465141291
                                        ],
                                        [
                                            -100.52872184225922,
                                            -31.63521437133704
                                        ],
                                        [
                                            -100.54507573388172,
                                            -31.609135636714296
                                        ],
                                        [
                                            -100.5578035774585,
                                            -31.582256087861534
                                        ],
                                        [
                                            -100.56817808044899,
                                            -31.55249274408778
                                        ],
                                        [
                                            -100.57463421410486,
                                            -31.520771358935697
                                        ],
                                        [
                                            -100.5986681202481,
                                            -31.494405285738864
                                        ],
                                        [
                                            -100.62096554131772,
                                            -31.46377093575328
                                        ],
                                        [
                                            -100.64324796083989,
                                            -31.433290222542354
                                        ],
                                        [
                                            -100.66171124555791,
                                            -31.40041369037591
                                        ],
                                        [
                                            -100.6838179170305,
                                            -31.370072471544372
                                        ],
                                        [
                                            -100.71169498701587,
                                            -31.343589198878725
                                        ],
                                        [
                                            -100.73570631940393,
                                            -31.315047897201786
                                        ],
                                        [
                                            -100.74820148529203,
                                            -31.283425113480487
                                        ],
                                        [
                                            -100.76949268014612,
                                            -31.252396589574865
                                        ],
                                        [
                                            -100.79426087147556,
                                            -31.220792120860217
                                        ],
                                        [
                                            -100.82751136204135,
                                            -31.19393824384391
                                        ],
                                        [
                                            -100.85623760097083,
                                            -31.16324910245512
                                        ],
                                        [
                                            -100.88920396804437,
                                            -31.13491129210435
                                        ],
                                        [
                                            -100.92848770476488,
                                            -31.115014155375498
                                        ],
                                        [
                                            -100.96781592677648,
                                            -31.09323015686442
                                        ],
                                        [
                                            -101.00352983193126,
                                            -31.065994739463964
                                        ],
                                        [
                                            -101.04167995236095,
                                            -31.04440653990368
                                        ],
                                        [
                                            -101.08407971616741,
                                            -31.032343916230428
                                        ],
                                        [
                                            -101.12681560767973,
                                            -31.02536604736098
                                        ],
                                        [
                                            -101.16903478049885,
                                            -31.02063031349477
                                        ],
                                        [
                                            -101.20532135925342,
                                            -31.009226116156285
                                        ]
                                    ],
                                    "when": {
                                        "timespans": [
                                            {
                                                "start": "2023-10-19T15:30Z",
                                                "end": "2023-10-21T17:30Z"
                                            }
                                        ]
                                    }
                                },
                                "properties": {
                                    "name": "COP_deterministic_5",
                                    "partNumb": 5,
                                    "timeStep": "00, 01:00"
                                }
                            },{
                                "type": "Feature",
                                "geometry": {
                                    "type": "LineString",
                                    "coordinates": [
                                        [
                                            -100.22673916988168,
                                            -32.46413353065355
                                        ],
                                        [
                                            -100.22639575505067,
                                            -32.43280338873819
                                        ],
                                        [
                                            -100.2333537029081,
                                            -32.402911438286964
                                        ],
                                        [
                                            -100.2408821991579,
                                            -32.37409989229294
                                        ],
                                        [
                                            -100.25500244998732,
                                            -32.344999792715704
                                        ],
                                        [
                                            -100.26994296356783,
                                            -32.31483782101349
                                        ],
                                        [
                                            -100.28954148875928,
                                            -32.284466381933115
                                        ],
                                        [
                                            -100.30299115110543,
                                            -32.250697888322144
                                        ],
                                        [
                                            -100.32014440949582,
                                            -32.21709917948118
                                        ],
                                        [
                                            -100.34053529693898,
                                            -32.184569313963024
                                        ],
                                        [
                                            -100.35893996719382,
                                            -32.1491353874144
                                        ],
                                        [
                                            -100.37233534654753,
                                            -32.11200237830857
                                        ],
                                        [
                                            -100.39217084702804,
                                            -32.07698693431442
                                        ],
                                        [
                                            -100.40218869138224,
                                            -32.04052378855255
                                        ],
                                        [
                                            -100.41878584262639,
                                            -32.00502857200314
                                        ],
                                        [
                                            -100.42824750859377,
                                            -31.967203760218798
                                        ],
                                        [
                                            -100.43431703827997,
                                            -31.932718976089873
                                        ],
                                        [
                                            -100.4479765404179,
                                            -31.899859842957305
                                        ],
                                        [
                                            -100.46230868162732,
                                            -31.866627057463702
                                        ],
                                        [
                                            -100.47009132435626,
                                            -31.831535745137625
                                        ],
                                        [
                                            -100.48002076333445,
                                            -31.796414867873974
                                        ],
                                        [
                                            -100.48077373492201,
                                            -31.759809715505305
                                        ],
                                        [
                                            -100.49783393650833,
                                            -31.72811985586155
                                        ],
                                        [
                                            -100.51707105206518,
                                            -31.697878212488728
                                        ],
                                        [
                                            -100.53080910080867,
                                            -31.665586657200162
                                        ],
                                        [
                                            -100.55040204137484,
                                            -31.63933074882615
                                        ],
                                        [
                                            -100.56258235575241,
                                            -31.61056005789595
                                        ],
                                        [
                                            -100.58067590805179,
                                            -31.585370893578315
                                        ],
                                        [
                                            -100.59222727030773,
                                            -31.555337254891565
                                        ],
                                        [
                                            -100.6116440912171,
                                            -31.52767256806203
                                        ],
                                        [
                                            -100.62975776859557,
                                            -31.498803975187034
                                        ],
                                        [
                                            -100.64550701111669,
                                            -31.46414060773239
                                        ],
                                        [
                                            -100.66919118551685,
                                            -31.434620468837526
                                        ],
                                        [
                                            -100.68798659750802,
                                            -31.401869459158007
                                        ],
                                        [
                                            -100.70800466232117,
                                            -31.370883929028402
                                        ],
                                        [
                                            -100.72931449618295,
                                            -31.340195690663542
                                        ],
                                        [
                                            -100.75244929504693,
                                            -31.312210867215278
                                        ],
                                        [
                                            -100.76714968696218,
                                            -31.2808782940607
                                        ],
                                        [
                                            -100.7888778529329,
                                            -31.25028865542114
                                        ],
                                        [
                                            -100.81725910756008,
                                            -31.22038951321753
                                        ],
                                        [
                                            -100.844937247971,
                                            -31.18980937712269
                                        ],
                                        [
                                            -100.87431975748969,
                                            -31.15895789965675
                                        ],
                                        [
                                            -100.8996320367714,
                                            -31.12539682881575
                                        ],
                                        [
                                            -100.93541813244398,
                                            -31.101319068311977
                                        ],
                                        [
                                            -100.97710018064826,
                                            -31.082653561975437
                                        ],
                                        [
                                            -101.01738528190923,
                                            -31.06291396436012
                                        ],
                                        [
                                            -101.05740906989129,
                                            -31.045385564046665
                                        ],
                                        [
                                            -101.09677568269589,
                                            -31.027038474571544
                                        ],
                                        [
                                            -101.13907065316893,
                                            -31.018156400560706
                                        ],
                                        [
                                            -101.17767607092827,
                                            -31.004986877575103
                                        ]
                                    ],
                                    "when": {
                                        "timespans": [
                                            {
                                                "start": "2023-10-19T15:30Z",
                                                "end": "2023-10-21T16:30Z"
                                            }
                                        ]
                                    }
                                }
                            }
              ]
            }
        }]}}

        const geojson3 ={
            "type": "FeatureCollection",
            "features": [
                {
                    "type": "Feature",
                    "geometry": {
                        "type": "LineString",
                        "coordinates": [
                            [
                                -78.231345,
                                -41.466388
                            ],
                            [
                                -78.21013344851218,
                                -41.441818574493844
                            ],
                            [
                                -78.19660592906062,
                                -41.413399577840806
                            ],
                            [
                                -78.182852657514,
                                -41.38463737488474
                            ],
                            [
                                -78.16722123784406,
                                -41.35538704429588
                            ],
                            [
                                -78.1418431454224,
                                -41.329040592920286
                            ],
                            [
                                -78.11693339257828,
                                -41.302478402661485
                            ],
                            [
                                -78.09465701291697,
                                -41.27587479277947
                            ],
                            [
                                -78.08203598096912,
                                -41.24577276435537
                            ],
                            [
                                -78.06385663629814,
                                -41.21966496952681
                            ],
                            [
                                -78.04518810407846,
                                -41.193327029623305
                            ],
                            [
                                -78.0199212447715,
                                -41.17067703946098
                            ],
                            [
                                -77.99473890280939,
                                -41.14885470162484
                            ],
                            [
                                -77.95998881999085,
                                -41.13330093109166
                            ],
                            [
                                -77.92418495117519,
                                -41.11988471615185
                            ],
                            [
                                -77.8858895442874,
                                -41.10901822443005
                            ],
                            [
                                -77.84771391455878,
                                -41.095581333727594
                            ],
                            [
                                -77.80784185750592,
                                -41.08272164835083
                            ],
                            [
                                -77.76938860706163,
                                -41.06910589294135
                            ],
                            [
                                -77.7296683557003,
                                -41.0599674812266
                            ],
                            [
                                -77.6932917697278,
                                -41.042797424759634
                            ],
                            [
                                -77.65894364586883,
                                -41.02265411366777
                            ],
                            [
                                -77.6206779488927,
                                -41.00258151923274
                            ],
                            [
                                -77.59073726517646,
                                -40.97653355579602
                            ],
                            [
                                -77.56314561741978,
                                -40.94724247113722
                            ],
                            [
                                -77.54072248636707,
                                -40.916034961831386
                            ],
                            [
                                -77.52283393247973,
                                -40.88229103004263
                            ],
                            [
                                -77.50329502482097,
                                -40.84824511300975
                            ],
                            [
                                -77.48352147845941,
                                -40.81401777784201
                            ]
                        ],
                        "when": {
                            "timespans": [
                                {
                                    "start": "2023-10-23T12:30Z",
                                    "end": "2023-10-24T16:30Z"
                                }
                            ]
                        }
                    },
                    "properties": {
                        "name": "COP_deterministic_1",
                        "partNumb": 1,
                        "timeStep": "00, 01:00"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": {
                        "type": "LineString",
                        "coordinates": [
                            [
                                -78.23134500000003,
                                -41.46188604620274
                            ],
                            [
                                -78.2137430014985,
                                -41.436004234031145
                            ],
                            [
                                -78.19461942631028,
                                -41.40943792888124
                            ],
                            [
                                -78.17340062939356,
                                -41.382510925401256
                            ],
                            [
                                -78.149750282092,
                                -41.35675731241963
                            ],
                            [
                                -78.1295747404999,
                                -41.32760740341272
                            ],
                            [
                                -78.10728391836082,
                                -41.299512038957076
                            ],
                            [
                                -78.08430659736285,
                                -41.273111098419236
                            ],
                            [
                                -78.06719480316134,
                                -41.24437649946764
                            ],
                            [
                                -78.04429644049151,
                                -41.219054576905705
                            ],
                            [
                                -78.02023511915449,
                                -41.19449197612676
                            ],
                            [
                                -77.99667203492582,
                                -41.17159344294761
                            ],
                            [
                                -77.96939915417767,
                                -41.1503858293358
                            ],
                            [
                                -77.93150766983477,
                                -41.140306536741505
                            ],
                            [
                                -77.89363952416961,
                                -41.129827312763155
                            ],
                            [
                                -77.85645257454979,
                                -41.11810681184295
                            ],
                            [
                                -77.81522859494913,
                                -41.108541134615216
                            ],
                            [
                                -77.77708858048396,
                                -41.093361333959486
                            ],
                            [
                                -77.73866759082945,
                                -41.07868113577198
                            ],
                            [
                                -77.69985119276423,
                                -41.06790242884925
                            ],
                            [
                                -77.66252593993883,
                                -41.05412771876926
                            ],
                            [
                                -77.62670164535704,
                                -41.03577968115122
                            ],
                            [
                                -77.59472434705044,
                                -41.01038914729726
                            ],
                            [
                                -77.56051706186993,
                                -40.985850408291356
                            ],
                            [
                                -77.52505317137435,
                                -40.96100998447243
                            ],
                            [
                                -77.50801846863892,
                                -40.92782584862058
                            ],
                            [
                                -77.48831333788358,
                                -40.89401182727732
                            ],
                            [
                                -77.46347922554713,
                                -40.861005727698505
                            ],
                            [
                                -77.44405285396734,
                                -40.8246527138655
                            ]
                        ],
                        "when": {
                            "timespans": [
                                {
                                    "start": "2023-10-23T12:30Z",
                                    "end": "2023-10-24T16:30Z"
                                }
                            ]
                        }
                    },
                    "properties": {
                        "name": "COP_deterministic_2",
                        "partNumb": 2,
                        "timeStep": "00, 01:00"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": {
                        "type": "LineString",
                        "coordinates": [
                            [
                                -78.229796018444,
                                -41.46203943618736
                            ],
                            [
                                -78.21647376430911,
                                -41.43461027147245
                            ],
                            [
                                -78.19139047726392,
                                -41.41120238783687
                            ],
                            [
                                -78.17142155149968,
                                -41.38436262719389
                            ],
                            [
                                -78.15506853983217,
                                -41.355744396684486
                            ],
                            [
                                -78.13515990916949,
                                -41.326479220218594
                            ],
                            [
                                -78.11630255694268,
                                -41.29696382877419
                            ],
                            [
                                -78.09081118931208,
                                -41.271537187547054
                            ],
                            [
                                -78.07121881191797,
                                -41.24405278318149
                            ],
                            [
                                -78.05058776167503,
                                -41.218019014883055
                            ],
                            [
                                -78.01975681500845,
                                -41.19825217368653
                            ],
                            [
                                -77.98979999395878,
                                -41.179527574341364
                            ],
                            [
                                -77.96246111535146,
                                -41.15896168071909
                            ],
                            [
                                -77.93315054085289,
                                -41.14002009149424
                            ],
                            [
                                -77.89676093365365,
                                -41.127804313987355
                            ],
                            [
                                -77.86226896300568,
                                -41.11277289167636
                            ],
                            [
                                -77.82571317848797,
                                -41.09618446018398
                            ],
                            [
                                -77.78710680285364,
                                -41.0804749356727
                            ],
                            [
                                -77.74941002905084,
                                -41.06444575071338
                            ],
                            [
                                -77.71312874624468,
                                -41.049129289495134
                            ],
                            [
                                -77.67822786473232,
                                -41.03198570955442
                            ],
                            [
                                -77.63981293951298,
                                -41.019621654368024
                            ],
                            [
                                -77.60574815319994,
                                -40.996433708444
                            ],
                            [
                                -77.57081880900141,
                                -40.97306839091006
                            ],
                            [
                                -77.54243690727343,
                                -40.94346570774882
                            ],
                            [
                                -77.5247197885192,
                                -40.91043576656153
                            ],
                            [
                                -77.50563145796623,
                                -40.87677233774121
                            ],
                            [
                                -77.48128565730686,
                                -40.844137813922075
                            ],
                            [
                                -77.45198117535604,
                                -40.81200149195208
                            ]
                        ],
                        "when": {
                            "timespans": [
                                {
                                    "start": "2023-10-23T12:30Z",
                                    "end": "2023-10-24T16:30Z"
                                }
                            ]
                        }
                    },
                    "properties": {
                        "name": "COP_deterministic_3",
                        "partNumb": 3,
                        "timeStep": "00, 01:00"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": {
                        "type": "LineString",
                        "coordinates": [
                            [
                                -78.2283525767459,
                                -41.462489154926956
                            ],
                            [
                                -78.21035315166681,
                                -41.43775967285068
                            ],
                            [
                                -78.18930554536205,
                                -41.412240485183105
                            ],
                            [
                                -78.17953786306276,
                                -41.381717130790896
                            ],
                            [
                                -78.16441749797214,
                                -41.35167354552828
                            ],
                            [
                                -78.14993624948276,
                                -41.32091180228984
                            ],
                            [
                                -78.12352270002067,
                                -41.29473299694539
                            ],
                            [
                                -78.10282757641835,
                                -41.266872271377146
                            ],
                            [
                                -78.07918362999233,
                                -41.24059617464805
                            ],
                            [
                                -78.0605627612736,
                                -41.21302582753391
                            ],
                            [
                                -78.03521763311547,
                                -41.189423848592526
                            ],
                            [
                                -78.01163243144795,
                                -41.165779830629866
                            ],
                            [
                                -77.98639420057296,
                                -41.14348221310939
                            ],
                            [
                                -77.9543472767043,
                                -41.12566843852118
                            ],
                            [
                                -77.91890254193221,
                                -41.11146023960158
                            ],
                            [
                                -77.8858398360412,
                                -41.09256014995914
                            ],
                            [
                                -77.8508098873485,
                                -41.073120908553605
                            ],
                            [
                                -77.81176595147602,
                                -41.05938082198146
                            ],
                            [
                                -77.77482630219548,
                                -41.04229174559779
                            ],
                            [
                                -77.73917364436248,
                                -41.027062021348094
                            ],
                            [
                                -77.70556351510385,
                                -41.00732175257725
                            ],
                            [
                                -77.6705914452657,
                                -40.98917610960501
                            ],
                            [
                                -77.63774401420245,
                                -40.965654697553184
                            ],
                            [
                                -77.60471513599654,
                                -40.94129911771999
                            ],
                            [
                                -77.58106852000783,
                                -40.90969111690613
                            ],
                            [
                                -77.55047841404287,
                                -40.88264140759475
                            ],
                            [
                                -77.52139924101206,
                                -40.852922267705964
                            ],
                            [
                                -77.50198538838596,
                                -40.817938435521214
                            ]
                        ],
                        "when": {
                            "timespans": [
                                {
                                    "start": "2023-10-23T12:30Z",
                                    "end": "2023-10-24T15:30Z"
                                }
                            ]
                        }
                    },
                    "properties": {
                        "name": "COP_deterministic_4",
                        "partNumb": 4,
                        "timeStep": "00, 01:00"
                    }
                },
                {
                    "type": "Feature",
                    "geometry": {
                        "type": "LineString",
                        "coordinates": [
                            [
                                -78.22711302793513,
                                -41.463204560460156
                            ],
                            [
                                -78.21292033904228,
                                -41.4360523572802
                            ],
                            [
                                -78.20262054624905,
                                -41.407428079801655
                            ],
                            [
                                -78.18193776611139,
                                -41.38072009712567
                            ],
                            [
                                -78.16831486202898,
                                -41.350333540148874
                            ],
                            [
                                -78.14001874962977,
                                -41.32539005384978
                            ],
                            [
                                -78.1160091963681,
                                -41.29821889633451
                            ],
                            [
                                -78.09654980078052,
                                -41.27069362456631
                            ],
                            [
                                -78.07933865255848,
                                -41.24201479697761
                            ],
                            [
                                -78.05521228863776,
                                -41.217475654032974
                            ],
                            [
                                -78.02852076298235,
                                -41.19509363872433
                            ],
                            [
                                -78.01009904393935,
                                -41.16875012380466
                            ],
                            [
                                -77.98169114628442,
                                -41.14878285982761
                            ],
                            [
                                -77.94651703409328,
                                -41.1352572495752
                            ],
                            [
                                -77.90840262403424,
                                -41.123884295061295
                            ],
                            [
                                -77.8736579656839,
                                -41.10717900943079
                            ],
                            [
                                -77.83457742234785,
                                -41.09409890013449
                            ],
                            [
                                -77.795824935266,
                                -41.079235521335306
                            ],
                            [
                                -77.75600823115019,
                                -41.066917295081595
                            ],
                            [
                                -77.72224779977546,
                                -41.049734163916476
                            ],
                            [
                                -77.68723865231557,
                                -41.03201179132282
                            ],
                            [
                                -77.65263802110098,
                                -41.01298082916756
                            ],
                            [
                                -77.6145563535727,
                                -40.993531384910966
                            ],
                            [
                                -77.57854770862642,
                                -40.971108512698216
                            ],
                            [
                                -77.54765890737383,
                                -40.94338167187049
                            ],
                            [
                                -77.51971585238903,
                                -40.91481212641221
                            ],
                            [
                                -77.49950693935364,
                                -40.88184911901159
                            ],
                            [
                                -77.48490795380985,
                                -40.845894087741485
                            ],
                            [
                                -77.46731298053642,
                                -40.809374365099266
                            ]
                        ],
                        "when": {
                            "timespans": [
                                {
                                    "start": "2023-10-23T12:30Z",
                                    "end": "2023-10-24T16:30Z"
                                }
                            ]
                        }
                    },
                    "properties": {
                        "name": "COP_deterministic_5",
                        "partNumb": 5,
                        "timeStep": "00, 01:00"
                    }
                }]}

    useEffect(() => {
        
            const coordinates = document.getElementById('coordinates');

            if (map.current) return; // initialize map only once
                map.current = new mapboxgl.Map({
                container: mapContainer.current,
                style: 'mapbox://styles/mapbox/streets-v12',
                center: [lng, lat],
                zoom: zoom
            });
            
            map.current.on('load', () => {
                map.current.addSource('earthquakes', {
                type: 'geojson',
                // Use a URL for the value for the `data` property.
                data: geojson3
                });
                 
                    map.current.addLayer({
                    'id': 'earthquakes-layer',
                    'type': 'line',
                    'source': 'earthquakes',
                    // 'paint': {
                    // 'circle-radius': 4,
                    // 'circle-stroke-width': 2,
                    // 'circle-color': 'red',
                    // 'circle-stroke-color': 'white'
                    // }
                    });
                });
         
            map.current.on('move', () => {
            setLng(map.current.getCenter().lng.toFixed(4));
            setLat(map.current.getCenter().lat.toFixed(4));
            setZoom(map.current.getZoom().toFixed(2));
            });



        const coordinatesGeocoder = function (query) {
            // Match anything which looks like
            // decimal degrees coordinate pair.
            const matches = query.match(
                /^[ ]*(?:Lat: )?(-?\d+\.?\d*)[, ]+(?:Lng: )?(-?\d+\.?\d*)[ ]*$/i
                );
                if (!matches) {
                return null;
            }
             
            function coordinateFeature(lng, lat) {
                    return {
                    center: [lng, lat],
                    geometry: {
                        type: 'Point',
                        coordinates: [lng, lat]
                    },
                    place_name: 'Lat: ' + lat + ' Lng: ' + lng,
                    place_type: ['coordinate'],
                    properties: {},
                    type: 'Feature'
                    };
            }
             
            const coord1 = Number(matches[1]);
            const coord2 = Number(matches[2]);
            const geocodes = [];
             
            if (coord1 < -90 || coord1 > 90) {
                // must be lng, lat
                geocodes.push(coordinateFeature(coord1, coord2));
                }
                
            if (coord2 < -90 || coord2 > 90) {
                // must be lat, lng
                geocodes.push(coordinateFeature(coord2, coord1));
            }
             
            if (geocodes.length === 0) {
                // else could be either lng, lat or lat, lng
                geocodes.push(coordinateFeature(coord1, coord2));
                geocodes.push(coordinateFeature(coord2, coord1));
            }
             
            return geocodes;
            };
             
            // Add the control to the map.
            map.current.addControl(
                new MapboxGeocoder({
                accessToken: mapboxgl.accessToken,
                localGeocoder: coordinatesGeocoder,
                zoom: 4,
                placeholder: 'Try: -40, 170',
                mapboxgl: mapboxgl,
                reverseGeocode: true
                })
            );




            const marker = new mapboxgl.Marker({
                draggable: true
                })
                .setLngLat([-71.5956, -33.0247])
                .addTo(map.current);
                 

                function onDragEnd() {
                    const lngLat = marker.getLngLat();
                        coordinates.innerHTML = `Latitude: ${lngLat.lat}<br /> Longitude: ${lngLat.lng}`;
                    }
                 
                marker.on('dragend', onDragEnd)


            

           
                       
        },[]);

    return (
        <>
        <div>
            <div className="sidebar">
            Longitude: {lng} | Latitude: {lat} | Zoom: {zoom}
            <div className="text-black " id="coordinates"></div>
            </div>
            <div ref={mapContainer} className="map-container" style={{ height: "45rem", width:'110em' }} />
        </div>
        </>
       
    );
}
export default Mapbox;